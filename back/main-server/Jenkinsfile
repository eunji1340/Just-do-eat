pipeline {
  agent any
  stages {
    stage('Update') {
      steps {
        sh '''
          cd /home/ubuntu/projects/S13P31A701
          git fetch origin BE
          git checkout BE
          git pull origin BE
        '''
      }
    }

    stage('Deploy') {
      steps {
        sh '''
          cd /home/ubuntu/projects/S13A701/back
          docker-compose -f docker-compose.yml --env-file .env up -d --build
        '''
      }
    }
  }
}
