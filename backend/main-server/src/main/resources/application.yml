# src/main/resources/application.yml
server:
  port: ${SERVER_PORT:8080}
  servlet:
    context-path: /api

spring:
  datasource:
    driver-class-name: org.postgresql.Driver
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/justdoeat}
    username: ${SPRING_DATASOURCE_USERNAME:justdoeat}
    password: ${SPRING_DATASOURCE_PASSWORD:justdoeat}

  data:
    redis:
      host: ${SPRING_DATA_REDIS_HOST:redis}
      port: ${SPRING_DATA_REDIS_PORT:6379}
      password: ${SPRING_DATA_REDIS_PASSWORD:}

  jpa:
    # ✅ 로컬 개발용: 엔티티 기반으로 테이블 자동 생성/갱신
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        default_schema: public
        format_sql: true
    open-in-view: false
    show-sql: false

  # 현재는 마이그레이션 사용 안 함(원하면 true와 경로 세팅)
  flyway:
    enabled: false

management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: never

# (선택) Swagger 경로 커스터마이징이 필요하면 주석 해제
# springdoc:
#   api-docs:
#     path: /v3/api-docs
#   swagger-ui:
#     path: /swagger-ui/index.html
